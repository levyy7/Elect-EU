# ğŸ—³ï¸ ElectEU - Online Election System

Welcome to **ElectEU**! ğŸ‰ ElectEU is a secure, reliable, and user-friendly online voting system designed for European citizens to cast their votes easily from anywhere. This app incorporates **two-factor authentication (2FA)** using Google Authenticator to ensure that voting is both secure and trustworthy.

## ğŸŒŸ Features:

- ğŸ›¡ï¸ **Two-Factor Authentication (2FA)** for added security
- ğŸ” **Bearer Token** authentication for secure voting
- âœ… Easy-to-use API for registration, authentication, and voting

---

## ğŸš€ Quick Start Guide

### ğŸ“‹ Prerequisites

- Install [Postman](https://www.postman.com/downloads/) for API testing.
- Ensure you have **Google Authenticator** installed on your phone:
  - **Android**: [Download Here](https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2)
  - **iOS**: [Download Here](https://apps.apple.com/us/app/google-authenticator/id388497605)

---

## âš™ï¸ Functionality & API Workflow

### Step 1: Register a Citizen ğŸ“

Send a `POST` request to **http://localhost:5000/register** to register a new user in the system.

#### Example Request Body:

```json
{
  "user_id": 123,
  "email": "ElectEU@gmail.com",
  "password": "123"
}
```

If the registration is successful, you will receive a confirmation message:

#### Example Response:

```json
{
  "message": "Citizen created succesfully"
}
```

### Step 2: Activate 2FA Authentication ğŸ”

Send a `POST` request to **http://localhost:5001/register** to activate 2FA with Google Authenticator. This will send a QR code to the userâ€™s email for scanning with the Google Authenticator app.

#### Example Request Body:

```json
{
  "email": "ElectEU@gmail.com",
  "password": "123"
}
```

If the registration is successful, you will receive a confirmation message:

#### Example Response:

```json
{
  "message": "Registration successful, scan the QR code in Google Authenticator",
  "secret": "W3ZQMGCOYPUZEX34C4G2FU4DNWROADFZ"
}
```

If the email and password are correct, a QR code will be sent to the userâ€™s email.
**Scan the QR code using the Google Authenticator app to get the 6-digit code.**

Here's how the QR and app looks like:

<div style="display: flex; justify-content: space-between;">
  <img src="IMG_4426" alt="QR Code" width="10"/>
  <img src="IMG_4427" alt="Google Authenticator App" width="10"/>
</div>

### Step 3: Verify 2FA Code âœ…

Send a `POST` request to **http://localhost:5001/verify-2fa** to verify the 6-digit code generated by the Google Authenticator app.

#### Example Request Body:

```json
{
  "user_id": 123,
  "email": "ElectEU@gmail.com",
  "code": 841165
}
```

If the code is valid, you will receive a **Bearer token** in the response. This token is needed to vote in the election.

#### Example Response:

```json
{
  "message": "2FA verification successful",
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxMjMsImVtYWlsIjoiY2FybG9zYXJib25lczAzQGdtYWlsLmNvbSIsImV4cCI6MTcyODkwMjA5N30.aMcx7R4gg7E0FlIK54evqe_j-744Ab34IgTyzl0j-vQ"
}
```

### Step 4: Submit Your Vote ğŸ—³ï¸

Send a `POST` request to **http://localhost:5000/vote** to cast your vote. You must include the Bearer token you received from the 2FA verification step.

#### Steps in Postman:

1. **Go to the "Authorization" tab** in Postman.
2. Select **"Bearer Token"** from the dropdown.
3. **Paste your token** into the token field.

Here's how it looks:

![Postman Bearer Token](bearer_token.png)

#### Example Request Body:

```json
{
  "user_id": 123,
  "vote_option_id": 2
}
```

Once the vote is submitted successfully, you will receive a confirmation message.

## ğŸ‰ Congratulations! ğŸ‰

Youâ€™ve successfully registered, authenticated, and voted in ElectEU! Keep your Bearer token safe, and ensure to follow the security measures during the voting process. ğŸ›¡ï¸

```

```
